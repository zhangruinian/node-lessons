{"version":3,"sources":["webpack:///static/js/7.ee28edd3a74d73608325.js","webpack:///./src/views/user-admin/admin.vue","webpack:///admin.vue","webpack:///./src/views/user-admin/admin.vue?c26e","webpack:///./src/views/user-admin/admin.vue?749e","webpack:///./src/views/user-admin/admin.vue?59a4"],"names":["webpackJsonp","536","module","exports","__webpack_require__","Component","713","Object","defineProperty","value","_assign","_assign2","obj","__esModule","default","_api","data","token","localStorage","getItem","users","listLoading","addFormVisible","addLoading","addFormRules","user","required","message","trigger","addForm","password","methods","getUsers","_this","this","getUserList","then","res","console","log","handleDel","index","row","_this2","$confirm","type","para","u_id","deletUser","$message","catch","handleReset","_this3","resetPwd","handleAdd","addSubmit","_this4","$refs","validate","valid","addUser","resetFields","handleAddAdmin","_this5","addAdmin","msg","isAdmin","created","719","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","730","content","locals","741","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","padding-bottom","attrs","span","on","click","_v","directives","name","rawName","expression","highlight-current-row","width","prop","label","scopedSlots","_u","key","fn","scope","_e","size","$event","$index","title","close-on-click-modal","model","callback","$$v","ref","label-width","rules","auto-complete","slot","loading","staticRenderFns"],"mappings":"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","file":"static/js/7.ee28edd3a74d73608325.js","sourcesContent":["webpackJsonp([7],{\n\n/***/ 536:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(730)\n\nvar Component = __webpack_require__(58)(\n  /* script */\n  __webpack_require__(713),\n  /* template */\n  __webpack_require__(741),\n  /* scopeId */\n  \"data-v-1bf9644c\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 713:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _assign = __webpack_require__(88);\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _api = __webpack_require__(133);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    data: function data() {\n        return {\n            token: localStorage.getItem(\"token\"),\n            users: [],\n            listLoading: false,\n\n            addFormVisible: false,\n            addLoading: false,\n            addFormRules: {\n                user: [{ required: true, message: '请输入用户名', trigger: 'blur' }]\n            },\n\n            addForm: {\n                user: \"\",\n                password: \"\"\n            }\n\n        };\n    },\n\n    methods: {\n        getUsers: function getUsers() {\n            var _this = this;\n\n            this.listLoading = true;\n            (0, _api.getUserList)({ token: this.token }).then(function (res) {\n                _this.users = res.data.data;\n                console.log(res.data);\n                _this.listLoading = false;\n            });\n        },\n        handleDel: function handleDel(index, row) {\n            var _this2 = this;\n\n            this.$confirm('确认删除该用户吗?', '删除', {\n                type: 'warning'\n            }).then(function () {\n                _this2.listLoading = true;\n                var para = { u_id: row.u_id, token: _this2.token };\n                (0, _api.deletUser)(para).then(function (res) {\n                    _this2.listLoading = false;\n                    _this2.$message({\n                        message: '删除成功',\n                        type: 'success'\n                    });\n                    console.log(res);\n                    _this2.getUsers();\n                });\n            }).catch(function () {});\n        },\n        handleReset: function handleReset(index, row) {\n            var _this3 = this;\n\n            this.$confirm('确认重置密码吗?', '提示', {\n                type: 'warning'\n            }).then(function () {\n                (0, _api.resetPwd)({\n                    token: _this3.token,\n                    u_id: row.u_id\n                }).then(function (res) {\n                    _this3.$message({\n                        type: 'success',\n                        message: \"重置成功\"\n                    });\n                }).catch();\n            });\n        },\n\n        handleAdd: function handleAdd() {\n            this.addFormVisible = true;\n            this.addForm = {\n                user: '',\n                password: ''\n            };\n        },\n\n        addSubmit: function addSubmit() {\n            var _this4 = this;\n\n            this.$refs.addForm.validate(function (valid) {\n                if (valid) {\n                    _this4.addLoading = true;\n                    var para = (0, _assign2.default)({}, _this4.addForm, { token: _this4.token });\n                    (0, _api.addUser)(para).then(function (res) {\n                        _this4.addLoading = false;\n                        _this4.$message({\n                            message: '添加成功',\n                            type: 'success'\n                        });\n                        _this4.$refs['addForm'].resetFields();\n                        _this4.addFormVisible = false;\n                        _this4.getUsers();\n                    });\n                }\n            });\n        },\n        handleAddAdmin: function handleAddAdmin(index, row) {\n            var _this5 = this;\n\n            this.$confirm('确认设置为管理员吗?', '提示', {\n                type: 'warning'\n            }).then(function () {\n                (0, _api.addAdmin)({\n                    token: _this5.token,\n                    u_id: row.u_id\n                }).then(function (res) {\n                    if (res.msg == 'success') {\n                        _this5.$message({\n                            type: 'success',\n                            message: \"设为管理员成功\"\n                        });\n                    }\n                    if (res.data.isAdmin == true) {\n                        _this5.$message({\n                            type: 'success',\n                            message: \"已经是管理员\"\n                        });\n                    }\n                });\n            });\n        }\n    },\n    created: function created() {\n        this.getUsers();\n    }\n};\n\n/***/ }),\n\n/***/ 719:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(524)();\n// imports\n\n\n// module\nexports.push([module.i, \"section.user .toolbar[data-v-1bf9644c]{margin:10px 0}section.user .list-table[data-v-1bf9644c]{width:562px}\", \"\", {\"version\":3,\"sources\":[\"C:/front-end/vue/sz-monitor-front/src/views/user-admin/admin.vue\"],\"names\":[],\"mappings\":\"AACA,uCACE,aAAe,CAChB,AACD,0CACE,WAAa,CACd\",\"file\":\"admin.vue\",\"sourcesContent\":[\"\\nsection.user .toolbar[data-v-1bf9644c] {\\n  margin: 10px 0;\\n}\\nsection.user .list-table[data-v-1bf9644c] {\\n  width: 562px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 730:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(719);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(525)(\"4ee27ad6\", content, true);\n\n/***/ }),\n\n/***/ 741:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    staticClass: \"user\"\n  }, [_c('el-col', {\n    staticClass: \"toolbar\",\n    staticStyle: {\n      \"padding-bottom\": \"0px\"\n    },\n    attrs: {\n      \"span\": 24\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.handleAdd\n    }\n  }, [_vm._v(\"新增\")])], 1), _vm._v(\" \"), _c('el-table', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.listLoading),\n      expression: \"listLoading\"\n    }],\n    staticClass: \"list-table\",\n    attrs: {\n      \"data\": _vm.users,\n      \"highlight-current-row\": \"\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"index\",\n      \"width\": \"60\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"user\",\n      \"label\": \"用户名\",\n      \"width\": \"150\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"权限\",\n      \"width\": \"100\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [(scope.row.isAdmin) ? _c('el-tag', {\n          attrs: {\n            \"type\": \"success\"\n          }\n        }, [_vm._v(\"管理员\")]) : _vm._e(), _vm._v(\" \"), (!scope.row.isAdmin) ? _c('el-tag', [_vm._v(\"普通用户\")]) : _vm._e()]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\",\n      \"width\": \"250\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.handleReset(scope.$index, scope.row)\n            }\n          }\n        }, [_vm._v(\"重置\")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"type\": \"danger\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.handleDel(scope.$index, scope.row)\n            }\n          }\n        }, [_vm._v(\"删除\")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"type\": \"primary\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.handleAddAdmin(scope.$index, scope.row)\n            }\n          }\n        }, [_vm._v(\"设为管理员\")])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"新增\",\n      \"close-on-click-modal\": false,\n      \"size\": \"tiny\"\n    },\n    model: {\n      value: (_vm.addFormVisible),\n      callback: function($$v) {\n        _vm.addFormVisible = $$v\n      },\n      expression: \"addFormVisible\"\n    }\n  }, [_c('el-form', {\n    ref: \"addForm\",\n    attrs: {\n      \"model\": _vm.addForm,\n      \"label-width\": \"80px\",\n      \"rules\": _vm.addFormRules\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"用户名\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.addForm.user),\n      callback: function($$v) {\n        _vm.addForm.user = $$v\n      },\n      expression: \"addForm.user\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"密码\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.addForm.password),\n      callback: function($$v) {\n        _vm.addForm.password = $$v\n      },\n      expression: \"addForm.password\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.addFormVisible = false\n      }\n    }\n  }, [_vm._v(\"取消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"loading\": _vm.addLoading\n    },\n    on: {\n      \"click\": _vm.addSubmit\n    }\n  }, [_vm._v(\"提交\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/7.ee28edd3a74d73608325.js","\n/* styles */\nrequire(\"!!../../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-1bf9644c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=styles&index=0!./admin.vue\")\n\nvar Component = require(\"!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=script&index=0!./admin.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1bf9644c\\\"}!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector?type=template&index=0!./admin.vue\"),\n  /* scopeId */\n  \"data-v-1bf9644c\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user-admin/admin.vue\n// module id = 536\n// module chunks = 7","<template>\r\n    <section class=\"user\">\r\n        <!--工具条-->\r\n        <el-col :span=\"24\" class=\"toolbar\" style=\"padding-bottom: 0px\">\r\n            <el-button type=\"primary\" @click=\"handleAdd\">新增</el-button>\r\n        </el-col>\r\n\r\n        <!--列表-->\r\n        <el-table :data=\"users\" highlight-current-row v-loading=\"listLoading\"\r\n                  class=\"list-table\">\r\n            <el-table-column type=\"index\" width=\"60\"></el-table-column>\r\n            <el-table-column prop=\"user\" label=\"用户名\" width=\"150\"></el-table-column>\r\n            <el-table-column label=\"权限\" width=\"100\">\r\n                <template scope=\"scope\">\r\n                    <el-tag v-if=\"scope.row.isAdmin\" type=\"success\">管理员</el-tag>\r\n                    <el-tag v-if=\"!scope.row.isAdmin\">普通用户</el-tag>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"操作\" width=\"250\">\r\n                <template scope=\"scope\">\r\n                    <el-button size=\"small\" @click=\"handleReset(scope.$index, scope.row)\">重置</el-button>\r\n                    <el-button type=\"danger\" size=\"small\" @click=\"handleDel(scope.$index, scope.row)\">删除</el-button>\r\n                    <el-button type=\"primary\" size=\"small\" @click=\"handleAddAdmin(scope.$index, scope.row)\">设为管理员</el-button>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n        <!--新增界面-->\r\n        <el-dialog title=\"新增\" v-model=\"addFormVisible\" :close-on-click-modal=\"false\" size=\"tiny\">\r\n            <el-form :model=\"addForm\" label-width=\"80px\" :rules=\"addFormRules\" ref=\"addForm\">\r\n                <el-form-item label=\"用户名\" >\r\n                    <el-input v-model=\"addForm.user\" auto-complete=\"off\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"密码\">\r\n                    <el-input v-model=\"addForm.password\" auto-complete=\"off\"></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"addFormVisible = false\">取消</el-button>\r\n                <el-button type=\"primary\" @click=\"addSubmit\" :loading=\"addLoading\">提交</el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\n\r\n    import {getUserList, resetPwd, addUser, deletUser, addAdmin} from '../../api/api'\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                token:localStorage.getItem(\"token\"),\r\n                users: [],\r\n                listLoading: false,\r\n\r\n                addFormVisible: false,//新增界面是否显示\r\n                addLoading: false,\r\n                addFormRules: {\r\n                    user: [\r\n                        {required: true, message: '请输入用户名', trigger: 'blur'}\r\n                    ]\r\n                },\r\n                //新增界面数据\r\n                addForm: {\r\n                    user: \"\",\r\n                    password: \"\"\r\n                }\r\n\r\n            }\r\n        },\r\n        methods: {\r\n            //获取用户列表\r\n            getUsers() {\r\n                this.listLoading = true\r\n                getUserList({token: this.token}).then((res) => {\r\n                    this.users = res.data.data\r\n                    console.log(res.data)\r\n                    this.listLoading = false\r\n                })\r\n            },\r\n            //删除\r\n            handleDel (index, row) {\r\n                this.$confirm('确认删除该用户吗?', '删除', {\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    this.listLoading = true\r\n                    let para = {u_id: row.u_id,token:this.token}\r\n                    deletUser(para).then((res) => {\r\n                        this.listLoading = false\r\n                        this.$message({\r\n                            message: '删除成功',\r\n                            type: 'success'\r\n                        })\r\n                        console.log(res)\r\n                        this.getUsers()\r\n                    })\r\n                }).catch(() => {\r\n                })\r\n            },\r\n            //重置界面\r\n            handleReset(index,row ) {\r\n                this.$confirm('确认重置密码吗?', '提示', {\r\n                    type: 'warning'\r\n                }).then(()=>{\r\n                    resetPwd({\r\n                        token: this.token,\r\n                        u_id:row.u_id\r\n                    }).then((res)=>{\r\n                        this.$message({\r\n                            type: 'success',\r\n                            message: \"重置成功\"\r\n                        })\r\n                    }).catch()\r\n                })\r\n\r\n            },\r\n            //显示新增界面\r\n            handleAdd: function () {\r\n                this.addFormVisible = true\r\n                this.addForm = {\r\n                    user: '',\r\n                    password: ''\r\n                }\r\n            },\r\n            //新增\r\n            addSubmit: function () {\r\n                this.$refs.addForm.validate((valid) => {\r\n                    if (valid) {\r\n                        this.addLoading = true\r\n                        let para = Object.assign({}, this.addForm,{token:this.token})\r\n                        addUser(para).then((res) => {\r\n                            this.addLoading = false\r\n                            this.$message({\r\n                                message: '添加成功',\r\n                                type: 'success'\r\n                            })\r\n                            this.$refs['addForm'].resetFields()\r\n                            this.addFormVisible = false\r\n                            this.getUsers()\r\n                        })\r\n                    }\r\n                })\r\n            },\r\n            handleAddAdmin(index, row) {\r\n                this.$confirm('确认设置为管理员吗?', '提示', {\r\n                    type: 'warning'\r\n                }).then(()=>{\r\n                    addAdmin({\r\n                        token: this.token,\r\n                        u_id:row.u_id\r\n                    }).then((res)=>{\r\n                        if(res.msg == 'success'){\r\n                            this.$message({\r\n                                type: 'success',\r\n                                message: \"设为管理员成功\"\r\n                            })\r\n                        }\r\n                        if(res.data.isAdmin == true){\r\n                            this.$message({\r\n                                type: 'success',\r\n                                message: \"已经是管理员\"\r\n                            })\r\n                        }\r\n\r\n                    })\r\n                })\r\n            }\r\n        },\r\n        created() {\r\n            this.getUsers()\r\n        }\r\n    }\r\n\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    section.user{\r\n        .toolbar{\r\n            margin: 10px 0\r\n        }\r\n        .list-table{\r\n            width: 562px\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// admin.vue?31e63380","exports = module.exports = require(\"../../../node_modules/_css-loader@0.26.4@css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"section.user .toolbar[data-v-1bf9644c]{margin:10px 0}section.user .list-table[data-v-1bf9644c]{width:562px}\", \"\", {\"version\":3,\"sources\":[\"C:/front-end/vue/sz-monitor-front/src/views/user-admin/admin.vue\"],\"names\":[],\"mappings\":\"AACA,uCACE,aAAe,CAChB,AACD,0CACE,WAAa,CACd\",\"file\":\"admin.vue\",\"sourcesContent\":[\"\\nsection.user .toolbar[data-v-1bf9644c] {\\n  margin: 10px 0;\\n}\\nsection.user .list-table[data-v-1bf9644c] {\\n  width: 562px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.26.4@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-1bf9644c\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_sass-loader@6.0.6@sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/user-admin/admin.vue\n// module id = 719\n// module chunks = 7","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.26.4@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-1bf9644c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_sass-loader@6.0.6@sass-loader/lib/loader.js?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./admin.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@2.0.5@vue-style-loader/lib/addStylesClient.js\")(\"4ee27ad6\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/_vue-style-loader@2.0.5@vue-style-loader!./~/_css-loader@0.26.4@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/_vue-loader@11.3.4@vue-loader/lib/style-compiler?{\"id\":\"data-v-1bf9644c\",\"scoped\":true,\"hasInlineConfig\":false}!./~/_sass-loader@6.0.6@sass-loader/lib/loader.js?{\"sourceMap\":true}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=styles&index=0!./src/views/user-admin/admin.vue\n// module id = 730\n// module chunks = 7","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    staticClass: \"user\"\n  }, [_c('el-col', {\n    staticClass: \"toolbar\",\n    staticStyle: {\n      \"padding-bottom\": \"0px\"\n    },\n    attrs: {\n      \"span\": 24\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": _vm.handleAdd\n    }\n  }, [_vm._v(\"新增\")])], 1), _vm._v(\" \"), _c('el-table', {\n    directives: [{\n      name: \"loading\",\n      rawName: \"v-loading\",\n      value: (_vm.listLoading),\n      expression: \"listLoading\"\n    }],\n    staticClass: \"list-table\",\n    attrs: {\n      \"data\": _vm.users,\n      \"highlight-current-row\": \"\"\n    }\n  }, [_c('el-table-column', {\n    attrs: {\n      \"type\": \"index\",\n      \"width\": \"60\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"prop\": \"user\",\n      \"label\": \"用户名\",\n      \"width\": \"150\"\n    }\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"权限\",\n      \"width\": \"100\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [(scope.row.isAdmin) ? _c('el-tag', {\n          attrs: {\n            \"type\": \"success\"\n          }\n        }, [_vm._v(\"管理员\")]) : _vm._e(), _vm._v(\" \"), (!scope.row.isAdmin) ? _c('el-tag', [_vm._v(\"普通用户\")]) : _vm._e()]\n      }\n    }])\n  }), _vm._v(\" \"), _c('el-table-column', {\n    attrs: {\n      \"label\": \"操作\",\n      \"width\": \"250\"\n    },\n    scopedSlots: _vm._u([{\n      key: \"default\",\n      fn: function(scope) {\n        return [_c('el-button', {\n          attrs: {\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.handleReset(scope.$index, scope.row)\n            }\n          }\n        }, [_vm._v(\"重置\")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"type\": \"danger\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.handleDel(scope.$index, scope.row)\n            }\n          }\n        }, [_vm._v(\"删除\")]), _vm._v(\" \"), _c('el-button', {\n          attrs: {\n            \"type\": \"primary\",\n            \"size\": \"small\"\n          },\n          on: {\n            \"click\": function($event) {\n              _vm.handleAddAdmin(scope.$index, scope.row)\n            }\n          }\n        }, [_vm._v(\"设为管理员\")])]\n      }\n    }])\n  })], 1), _vm._v(\" \"), _c('el-dialog', {\n    attrs: {\n      \"title\": \"新增\",\n      \"close-on-click-modal\": false,\n      \"size\": \"tiny\"\n    },\n    model: {\n      value: (_vm.addFormVisible),\n      callback: function($$v) {\n        _vm.addFormVisible = $$v\n      },\n      expression: \"addFormVisible\"\n    }\n  }, [_c('el-form', {\n    ref: \"addForm\",\n    attrs: {\n      \"model\": _vm.addForm,\n      \"label-width\": \"80px\",\n      \"rules\": _vm.addFormRules\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"用户名\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.addForm.user),\n      callback: function($$v) {\n        _vm.addForm.user = $$v\n      },\n      expression: \"addForm.user\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"密码\"\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"auto-complete\": \"off\"\n    },\n    model: {\n      value: (_vm.addForm.password),\n      callback: function($$v) {\n        _vm.addForm.password = $$v\n      },\n      expression: \"addForm.password\"\n    }\n  })], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.addFormVisible = false\n      }\n    }\n  }, [_vm._v(\"取消\")]), _vm._v(\" \"), _c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"loading\": _vm.addLoading\n    },\n    on: {\n      \"click\": _vm.addSubmit\n    }\n  }, [_vm._v(\"提交\")])], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@11.3.4@vue-loader/lib/template-compiler?{\"id\":\"data-v-1bf9644c\"}!./~/_vue-loader@11.3.4@vue-loader/lib/selector.js?type=template&index=0!./src/views/user-admin/admin.vue\n// module id = 741\n// module chunks = 7"],"sourceRoot":""}